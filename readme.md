# Домашние задания по конфигурационному управлению
## Новиков Андрей ИКБО-40-23

## Общие этапы сборки проектов репозитория
1. Загрузить репозиторий на компьютер 
```bash 
git clone https://github.com/andaran/Configuration_management
cd Configuration_management
```
2. Создать в корне репозитория виртуальную среду python и активировать её.
```bash
python3 -m venv venv
source venv/bin/activate
```

## Задание 4

### Описание
Ассемблер и интерпретатор для учебной виртуальной машины (УВМ).
Ассемблер преобразует код с командами в бинарный файл. Затем этот бинарный
файл посторочно читывает интерпретатор и исполняет команды. Результат работы
интерпретатора записывается в виде диапазона значений памяти виртуальной машины
в xml.

### Функции
- Трансляция ассемблера в бинарный файл;
- Вывод логов при трансляции в xml файл;
- Интерпретация бинарного файла с командами;
- Вывод диапазона из памяти УВМ в xml файл.

### Старт проекта
1. Открыть директорию Task_4
2. Запустить assembler.py с передачей аргументами файла с кодом, 
имени выходного бинарного файла и файла для сохрания логов.
3. Запустить interpreter.py с передачей аргументами бинарного файла с командами,
файла для вывода значений из памяти и диапазона адресов памяти для вывода.
```bash
cd Task_4
python assembler.py program.txt binary_output.bin --log_file log.xml
python interpreter.py binary_output.bin result.xml --memory_range 0 8
```

### Использование и тестирование
Файл program.txt:
```
# Загрузка значений в вектор A (по адресам 0, 1, 2, 3)
212 0 10
212 1 20
212 2 30
212 3 40

# Загрузка значений в вектор B (по адресам 4, 5, 6, 7)
212 4 20
212 5 10
212 6 40
212 7 30

# Сравнение элементов векторов A и B
217 0 4
217 1 5
217 2 6
217 3 7
```

Запускаем ассемблер:
```bash
python assembler.py program.txt binary_output.bin --log_file log.xml
```

log.xml:
```xml
<log>
  <command A="212" B="0" C="10" />
  <command A="212" B="1" C="20" />
  <command A="212" B="2" C="30" />
  <command A="212" B="3" C="40" />
  <command A="212" B="4" C="20" />
  <command A="212" B="5" C="10" />
  <command A="212" B="6" C="40" />
  <command A="212" B="7" C="30" />
  <command A="217" B="0" C="4" />
  <command A="217" B="1" C="5" />
  <command A="217" B="2" C="6" />
  <command A="217" B="3" C="7" />
</log>
```

Запускаем интерпретатор:
```bash
python interpreter.py binary_output.bin result.xml --memory_range 0 8
```

result.xml:
```xml
<result>
  <memory address="0">1</memory>
  <memory address="1">0</memory>
  <memory address="2">1</memory>
  <memory address="3">0</memory>
  <memory address="4">20</memory>
  <memory address="5">10</memory>
  <memory address="6">40</memory>
  <memory address="7">30</memory>
</result>
```

## Задание 3

### Описание
Инструмент командной строки для учебного конфигурационного
языка. Этот инструмент преобразует текст из
входного формата в выходной. Синтаксические ошибки выявляются с выдачей
сообщений. 

### Функции
- Трансляция конфигурационного языка в yaml;
- Вычисление константных выражений;
- Вывод ошибок в удобном формате.

### Старт проекта
Открыть директорию Task_3 и запустить main.py с передачей аргументом файла с кодом
```bash
cd Task_3
python main.py ./test_1.txt
```

### Пример использования
Для входного файла test_1.txt:
```
! Настройка сервера
workload: 230
nodes: [1 3 16 37]
settings: {
    port = 8080
    timeout = 1000
    ! Настройки узлов
    nodeSettings = {
        port = 8081
        timeout = 900
    }
    maxConnections = 10
    workload = 230
}
threads: 2
```
![Пример работы скрипта](./Images/task3_img1.png)

Для входного файла test_2.txt:
```
! Постфиксные выражения
x: 1
y: 2
z: ^(x y +)
k: ^(x y z + +)
res: ^(z k + sqrt)
! res: 3.0
```
![Результат работы скрипта](./Images/task3_img2.png)

### Результаты тестирования
![Результаты тестирования](./Images/task3_img3.png)

## Задание 2

### Описание
Инструмент командной строки для визуализации графа зависимостей, включая транзитивные зависимости  для файла-пакета платформы .NET (nupkg). Рядом с программой находится файл config.yaml, в котором указаны путь к программе для визуализации графов, путь к анализируемому пакету и URL-адрес репозитория.

### Функции
- Отображение прямых зависимостей пакета;
- Рекурсивное отображение транзитивных зависимостей пакета.

### Старт проекта
Открыть директорию Task_2, установить необходимые библиотеки и запустить main.py
```bash
cd Task_2
pip install requests yaml
python main.py
```

### Пример использования
![Пример работы скрипта](./Images/task2_img1.png)
![Результат работы скрипта](./Images/task2_img2.png)

### Результаты тестирования
![Результаты тестирования](./Images/task2_img3.png)

## Задание 1

### Описание
Эмулятор для языка оболочки ОС, похож на сеанс bash в Linux. Имеет свой GUI. Рядом с программой находится файл config.csv, в котором указаны путь до стартового скрипта и .tar архив с файловой системой.

### Функции
- Эмуляция команд: ls, cd, exit, tail, du;
- Исполнение стартового скрипта при запуске эмулятора.

### Старт проекта
Открыть директорию Task_1 и запустить main.py
```bash
cd Task_1
python main.py
```

### Пример использования
![Пример работы консоли](./Images/task1_img1.png)

### Результаты тестирования
![Результаты тестирования](./Images/task1_img2.png)